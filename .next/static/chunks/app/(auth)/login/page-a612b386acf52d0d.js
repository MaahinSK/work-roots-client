(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[665],{9908:function(e,t,r){Promise.resolve().then(r.bind(r,1825))},1825:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return d}});var a=r(7437),s=r(2265),n=r(7648),o=r(8026),l=r(9376),i=r(7061),c=r(8074),u=r(5674);function d(){let[e,t]=(0,s.useState)({email:"",password:""}),[r,d]=(0,s.useState)(!1),[m,p]=(0,s.useState)(!1),{login:f,currentUser:h}=(0,o.a)(),y=(0,l.useRouter)();(0,s.useEffect)(()=>{h&&y.push("/")},[h,y]);let b=r=>{t({...e,[r.target.name]:r.target.value})},x=async t=>{t.preventDefault(),p(!0);try{await f(e.email,e.password),i.Am.success("Successfully logged in!"),y.push("/")}catch(e){i.Am.error("Failed to log in: "+e.message)}finally{p(!1)}};return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-purple-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,a.jsx)("div",{children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Sign in to your account"}),(0,a.jsxs)("p",{className:"mt-2 text-sm text-gray-600",children:["Or"," ",(0,a.jsx)(n.default,{href:"/register",className:"font-medium text-blue-600 hover:text-blue-500",children:"create a new account"})]})]})}),(0,a.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:x,children:[(0,a.jsxs)("div",{className:"rounded-md shadow-sm -space-y-px",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),(0,a.jsx)(u.SRX,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),(0,a.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-t-md relative block w-full pl-10 pr-3 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Email address",value:e.email,onChange:b})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("label",{htmlFor:"password",className:"sr-only",children:"Password"}),(0,a.jsx)(u.kUi,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),(0,a.jsx)("input",{id:"password",name:"password",type:r?"text":"password",autoComplete:"current-password",required:!0,className:"appearance-none rounded-b-md relative block w-full pl-10 pr-10 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Password",value:e.password,onChange:b}),(0,a.jsx)("button",{type:"button",className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600",onClick:()=>d(!r),children:r?(0,a.jsx)(u.tgn,{size:20}):(0,a.jsx)(u.dSq,{size:20})})]})]}),(0,a.jsx)("div",{children:(0,a.jsx)("button",{type:"submit",disabled:m,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:m?(0,a.jsx)(c.Z,{}):"Sign in"})})]})]})})}},8074:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var a=r(7437);function s(){return(0,a.jsx)("div",{className:"flex justify-center items-center",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})})}},8026:function(e,t,r){"use strict";r.d(t,{AuthProvider:function(){return d},a:function(){return u}});var a=r(7437),s=r(2265),n=r(3301);let o=(0,r(738).ZF)({apiKey:"AIzaSyD2X6NJ1-zOk3WENlqPsXRQQ5VJ3IUNcMU",authDomain:"ejp-workroots.firebaseapp.com",projectId:"ejp-workroots",storageBucket:"ejp-workroots.firebasestorage.app",messagingSenderId:"151175727156",appId:"1:151175727156:web:425eea80bf9bd1bc9da261"}),l=(0,n.v0)(o);var i=r(3464);let c=(0,s.createContext)();function u(){return(0,s.useContext)(c)}function d(e){let{children:t}=e,[r,o]=(0,s.useState)(null),[u,d]=(0,s.useState)(!0),[m,p]=(0,s.useState)(null),f="https://work-roots-server.vercel.app/",h=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{await i.Z.post("".concat(f,"/auth/sync"),{uid:e.uid,name:e.displayName||t.name||"User",email:e.email,phone:t.phone||"",profilePicture:e.photoURL||t.profilePicture||""})}catch(e){console.error("Error syncing user to DB:",e)}},y=async(e,t,r)=>{let{user:a}=await (0,n.Xb)(l,e,t);return await (0,n.ck)(a,{displayName:r}),await h(a,{name:r}),a},b=async e=>{l.currentUser&&(await (0,n.ck)(l.currentUser,e),await h(l.currentUser,e))};return(0,s.useEffect)(()=>(0,n.Aj)(l,async e=>{if(o(e),e){await h(e);try{let t=await i.Z.get("".concat(f,"/auth/profile"),{headers:{Authorization:"Bearer ".concat(e.uid)}});p(t.data.data)}catch(e){console.error("Error fetching user profile:",e)}}else p(null);d(!1)}),[]),(0,a.jsx)(c.Provider,{value:{currentUser:r,userProfile:m,signup:y,login:(e,t)=>(0,n.e5)(l,e,t),logout:()=>(0,n.w7)(l),updateUserProfile:b},children:!u&&t})}},7648:function(e,t,r){"use strict";r.d(t,{default:function(){return s.a}});var a=r(2972),s=r.n(a)},9376:function(e,t,r){"use strict";var a=r(5475);r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}})},178:function(e,t,r){"use strict";r.d(t,{w_:function(){return i}});var a=r(2265),s={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},n=a.createContext&&a.createContext(s),o=function(){return(o=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var s in t=arguments[r])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)},l=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>t.indexOf(a)&&(r[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)0>t.indexOf(a[s])&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(r[a[s]]=e[a[s]]);return r};function i(e){return function(t){return a.createElement(c,o({attr:o({},e.attr)},t),function e(t){return t&&t.map(function(t,r){return a.createElement(t.tag,o({key:r},t.attr),e(t.child))})}(e.child))}}function c(e){var t=function(t){var r,s=e.attr,n=e.size,i=e.title,c=l(e,["attr","size","title"]),u=n||t.size||"1em";return t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className),a.createElement("svg",o({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,s,c,{className:r,style:o(o({color:e.color||t.color},t.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),i&&a.createElement("title",null,i),e.children)};return void 0!==n?a.createElement(n.Consumer,null,function(e){return t(e)}):t(s)}}},function(e){e.O(0,[139,420,851,61,972,971,117,744],function(){return e(e.s=9908)}),_N_E=e.O()}]);