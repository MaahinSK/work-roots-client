(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[566],{8366:function(e,t,r){Promise.resolve().then(r.bind(r,2065))},2065:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return d}});var a=r(7437),s=r(2265),o=r(7648),n=r(8026),l=r(9376),c=r(7061),i=r(8074),u=r(5674);function d(){let[e,t]=(0,s.useState)({name:"",email:"",password:"",confirmPassword:""}),[r,d]=(0,s.useState)(!1),[m,p]=(0,s.useState)(!1),[f,h]=(0,s.useState)(!1),{signup:x,currentUser:y}=(0,n.a)(),b=(0,l.useRouter)();(0,s.useEffect)(()=>{y&&b.push("/")},[y,b]);let g=r=>{t({...e,[r.target.name]:r.target.value})},w=async t=>{if(t.preventDefault(),e.password!==e.confirmPassword){c.Am.error("Passwords do not match");return}if(e.password.length<6){c.Am.error("Password should be at least 6 characters");return}h(!0);try{await x(e.email,e.password,e.name),c.Am.success("Account created successfully!"),b.push("/")}catch(e){c.Am.error("Failed to create account: "+e.message)}finally{h(!1)}};return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-green-50 to-blue-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,a.jsx)("div",{children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Create your account"}),(0,a.jsxs)("p",{className:"mt-2 text-sm text-gray-600",children:["Or"," ",(0,a.jsx)(o.default,{href:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"sign in to your existing account"})]})]})}),(0,a.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:w,children:[(0,a.jsxs)("div",{className:"rounded-md shadow-sm -space-y-px",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("label",{htmlFor:"name",className:"sr-only",children:"Full Name"}),(0,a.jsx)(u.Xws,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),(0,a.jsx)("input",{id:"name",name:"name",type:"text",autoComplete:"name",required:!0,className:"appearance-none rounded-t-md relative block w-full pl-10 pr-3 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Full Name",value:e.name,onChange:g})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),(0,a.jsx)(u.SRX,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),(0,a.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none relative block w-full pl-10 pr-3 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Email address",value:e.email,onChange:g})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("label",{htmlFor:"password",className:"sr-only",children:"Password"}),(0,a.jsx)(u.kUi,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),(0,a.jsx)("input",{id:"password",name:"password",type:r?"text":"password",autoComplete:"new-password",required:!0,className:"appearance-none relative block w-full pl-10 pr-10 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Password",value:e.password,onChange:g}),(0,a.jsx)("button",{type:"button",className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600",onClick:()=>d(!r),children:r?(0,a.jsx)(u.tgn,{size:20}):(0,a.jsx)(u.dSq,{size:20})})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("label",{htmlFor:"confirmPassword",className:"sr-only",children:"Confirm Password"}),(0,a.jsx)(u.kUi,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),(0,a.jsx)("input",{id:"confirmPassword",name:"confirmPassword",type:m?"text":"password",autoComplete:"new-password",required:!0,className:"appearance-none rounded-b-md relative block w-full pl-10 pr-10 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Confirm Password",value:e.confirmPassword,onChange:g}),(0,a.jsx)("button",{type:"button",className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600",onClick:()=>p(!m),children:m?(0,a.jsx)(u.tgn,{size:20}):(0,a.jsx)(u.dSq,{size:20})})]})]}),(0,a.jsx)("div",{children:(0,a.jsx)("button",{type:"submit",disabled:f,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed",children:f?(0,a.jsx)(i.Z,{}):"Create Account"})})]})]})})}},8074:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var a=r(7437);function s(){return(0,a.jsx)("div",{className:"flex justify-center items-center",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})})}},8026:function(e,t,r){"use strict";r.d(t,{AuthProvider:function(){return d},a:function(){return u}});var a=r(7437),s=r(2265),o=r(3301);let n=(0,r(738).ZF)({apiKey:"AIzaSyD2X6NJ1-zOk3WENlqPsXRQQ5VJ3IUNcMU",authDomain:"ejp-workroots.firebaseapp.com",projectId:"ejp-workroots",storageBucket:"ejp-workroots.firebasestorage.app",messagingSenderId:"151175727156",appId:"1:151175727156:web:425eea80bf9bd1bc9da261"}),l=(0,o.v0)(n);var c=r(3464);let i=(0,s.createContext)();function u(){return(0,s.useContext)(i)}function d(e){let{children:t}=e,[r,n]=(0,s.useState)(null),[u,d]=(0,s.useState)(!0),[m,p]=(0,s.useState)(null),f="https://work-roots-server.vercel.app/",h=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{await c.Z.post("".concat(f,"/auth/sync"),{uid:e.uid,name:e.displayName||t.name||"User",email:e.email,phone:t.phone||"",profilePicture:e.photoURL||t.profilePicture||""})}catch(e){console.error("Error syncing user to DB:",e)}},x=async(e,t,r)=>{let{user:a}=await (0,o.Xb)(l,e,t);return await (0,o.ck)(a,{displayName:r}),await h(a,{name:r}),a},y=async e=>{l.currentUser&&(await (0,o.ck)(l.currentUser,e),await h(l.currentUser,e))};return(0,s.useEffect)(()=>(0,o.Aj)(l,async e=>{if(n(e),e){await h(e);try{let t=await c.Z.get("".concat(f,"/auth/profile"),{headers:{Authorization:"Bearer ".concat(e.uid)}});p(t.data.data)}catch(e){console.error("Error fetching user profile:",e)}}else p(null);d(!1)}),[]),(0,a.jsx)(i.Provider,{value:{currentUser:r,userProfile:m,signup:x,login:(e,t)=>(0,o.e5)(l,e,t),logout:()=>(0,o.w7)(l),updateUserProfile:y},children:!u&&t})}},7648:function(e,t,r){"use strict";r.d(t,{default:function(){return s.a}});var a=r(2972),s=r.n(a)},9376:function(e,t,r){"use strict";var a=r(5475);r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}})},178:function(e,t,r){"use strict";r.d(t,{w_:function(){return c}});var a=r(2265),s={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},o=a.createContext&&a.createContext(s),n=function(){return(n=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var s in t=arguments[r])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)},l=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>t.indexOf(a)&&(r[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)0>t.indexOf(a[s])&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(r[a[s]]=e[a[s]]);return r};function c(e){return function(t){return a.createElement(i,n({attr:n({},e.attr)},t),function e(t){return t&&t.map(function(t,r){return a.createElement(t.tag,n({key:r},t.attr),e(t.child))})}(e.child))}}function i(e){var t=function(t){var r,s=e.attr,o=e.size,c=e.title,i=l(e,["attr","size","title"]),u=o||t.size||"1em";return t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className),a.createElement("svg",n({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,s,i,{className:r,style:n(n({color:e.color||t.color},t.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),c&&a.createElement("title",null,c),e.children)};return void 0!==o?a.createElement(o.Consumer,null,function(e){return t(e)}):t(s)}}},function(e){e.O(0,[139,420,851,61,972,971,117,744],function(){return e(e.s=8366)}),_N_E=e.O()}]);