(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[407],{202:function(e,r,a){Promise.resolve().then(a.bind(a,3254))},3254:function(e,r,a){"use strict";a.r(r),a.d(r,{default:function(){return p},dynamic:function(){return m}});var t=a(7437),s=a(2265),l=a(9376),o=a(8026),n=a(7061),i=a(8074),c=a(3464);let u=["Web Development","Mobile Development","Design","Writing","Marketing","Consulting","Other"],d=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],m="force-dynamic";function p(){let[e,r]=(0,s.useState)({title:"",description:"",category:"",yearsOfExperience:"",hourlyCharge:"",availableDays:[],imageUrl:""}),[a,m]=(0,s.useState)(!1),{currentUser:p}=(0,o.a)(),g=(0,l.useRouter)();(0,s.useEffect)(()=>{p||g.push("/login")},[p,g]);let h=e=>{let{name:a,value:t,type:s,checked:l}=e.target;"checkbox"===s?r(e=>({...e,availableDays:l?[...e.availableDays,t]:e.availableDays.filter(e=>e!==t)})):r(e=>({...e,[a]:t}))},y=async a=>{a.preventDefault(),m(!0);try{await c.Z.post("".concat("https://work-roots-server.vercel.app/","/skills"),e,{headers:{Authorization:"Bearer ".concat(p.uid)}}),n.Am.success("Skill posted successfully!"),r({title:"",description:"",category:"",yearsOfExperience:"",hourlyCharge:"",availableDays:[],imageUrl:""}),g.push("/my-skill-listings")}catch(e){var t,s;n.Am.error("Failed to post skill: "+(null===(s=e.response)||void 0===s?void 0:null===(t=s.data)||void 0===t?void 0:t.error))}finally{m(!1)}};return(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 py-12",children:(0,t.jsx)("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-8 text-center",children:"Post Your Skill"}),(0,t.jsxs)("form",{onSubmit:y,className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700",children:"Skill Title *"}),(0,t.jsx)("input",{type:"text",id:"title",name:"title",required:!0,value:e.title,onChange:h,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-gray-900 placeholder-gray-500",placeholder:"e.g., Senior React Developer"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Description *"}),(0,t.jsx)("textarea",{id:"description",name:"description",required:!0,rows:4,value:e.description,onChange:h,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-gray-900 placeholder-gray-500",placeholder:"Describe your skills, experience, and what you can offer..."})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700",children:"Category *"}),(0,t.jsxs)("select",{id:"category",name:"category",required:!0,value:e.category,onChange:h,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-gray-900",children:[(0,t.jsx)("option",{value:"",className:"text-gray-500",children:"Select a category"}),u.map(e=>(0,t.jsx)("option",{value:e,className:"text-gray-900",children:e},e))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"yearsOfExperience",className:"block text-sm font-medium text-gray-700",children:"Years of Experience *"}),(0,t.jsx)("input",{type:"number",id:"yearsOfExperience",name:"yearsOfExperience",required:!0,min:"0",max:"50",value:e.yearsOfExperience,onChange:h,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-gray-900"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"hourlyCharge",className:"block text-sm font-medium text-gray-700",children:"Hourly Charge ($) *"}),(0,t.jsx)("input",{type:"number",id:"hourlyCharge",name:"hourlyCharge",required:!0,min:"0",step:"0.01",value:e.hourlyCharge,onChange:h,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-gray-900 placeholder-gray-500",placeholder:"e.g., 50.00"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Available Days"}),(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:d.map(r=>(0,t.jsxs)("label",{className:"flex items-center text-gray-900",children:[" ",(0,t.jsx)("input",{type:"checkbox",name:"availableDays",value:r,checked:e.availableDays.includes(r),onChange:h,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,t.jsx)("span",{className:"ml-2 text-sm text-gray-900",children:r})," "]},r))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"imageUrl",className:"block text-sm font-medium text-gray-700",children:"Image URL (Optional)"}),(0,t.jsx)("input",{type:"url",id:"imageUrl",name:"imageUrl",value:e.imageUrl,onChange:h,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-gray-900 placeholder-gray-500",placeholder:"https://example.com/image.jpg"})]}),(0,t.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,t.jsx)("button",{type:"button",onClick:()=>g.back(),className:"px-6 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),(0,t.jsx)("button",{type:"submit",disabled:a,className:"px-6 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:a?(0,t.jsx)(i.Z,{}):"Post Skill"})]})]})]})})})}},8074:function(e,r,a){"use strict";a.d(r,{Z:function(){return s}});var t=a(7437);function s(){return(0,t.jsx)("div",{className:"flex justify-center items-center",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})})}},8026:function(e,r,a){"use strict";a.d(r,{AuthProvider:function(){return d},a:function(){return u}});var t=a(7437),s=a(2265),l=a(3301);let o=(0,a(738).ZF)({apiKey:"AIzaSyD2X6NJ1-zOk3WENlqPsXRQQ5VJ3IUNcMU",authDomain:"ejp-workroots.firebaseapp.com",projectId:"ejp-workroots",storageBucket:"ejp-workroots.firebasestorage.app",messagingSenderId:"151175727156",appId:"1:151175727156:web:425eea80bf9bd1bc9da261"}),n=(0,l.v0)(o);var i=a(3464);let c=(0,s.createContext)();function u(){return(0,s.useContext)(c)}function d(e){let{children:r}=e,[a,o]=(0,s.useState)(null),[u,d]=(0,s.useState)(!0),[m,p]=(0,s.useState)(null),g="https://work-roots-server.vercel.app/",h=async function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{await i.Z.post("".concat(g,"/auth/sync"),{uid:e.uid,name:e.displayName||r.name||"User",email:e.email,phone:r.phone||"",profilePicture:e.photoURL||r.profilePicture||""})}catch(e){console.error("Error syncing user to DB:",e)}},y=async(e,r,a)=>{let{user:t}=await (0,l.Xb)(n,e,r);return await (0,l.ck)(t,{displayName:a}),await h(t,{name:a}),t},b=async e=>{n.currentUser&&(await (0,l.ck)(n.currentUser,e),await h(n.currentUser,e))};return(0,s.useEffect)(()=>(0,l.Aj)(n,async e=>{if(o(e),e){await h(e);try{let r=await i.Z.get("".concat(g,"/auth/profile"),{headers:{Authorization:"Bearer ".concat(e.uid)}});p(r.data.data)}catch(e){console.error("Error fetching user profile:",e)}}else p(null);d(!1)}),[]),(0,t.jsx)(c.Provider,{value:{currentUser:a,userProfile:m,signup:y,login:(e,r)=>(0,l.e5)(n,e,r),logout:()=>(0,l.w7)(n),updateUserProfile:b},children:!u&&r})}},9376:function(e,r,a){"use strict";var t=a(5475);a.o(t,"useRouter")&&a.d(r,{useRouter:function(){return t.useRouter}})}},function(e){e.O(0,[139,851,61,971,117,744],function(){return e(e.s=202)}),_N_E=e.O()}]);