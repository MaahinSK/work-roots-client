(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[345],{3700:function(e,t,s){Promise.resolve().then(s.bind(s,1235))},1235:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return u},dynamic:function(){return d}});var r=s(7437),a=s(2265),n=s(8026),l=s(8074),i=s(7061),c=s(3464),o=s(5674);let d="force-dynamic";function u(){let[e,t]=(0,a.useState)([]),[s,d]=(0,a.useState)(!0),[u,m]=(0,a.useState)(!1),[x,h]=(0,a.useState)(null),{currentUser:f}=(0,n.a)(),p="https://work-roots-server.vercel.app/api";(0,a.useEffect)(()=>{y()},[]);let y=async()=>{try{let e=await c.Z.get("".concat(p,"/hires/user"),{headers:{Authorization:"Bearer ".concat(f.uid)}});t(e.data.data)}catch(e){i.Am.error("Failed to fetch your hires: "+e.message)}finally{d(!1)}},g=e=>{h(e),m(!0)},v=async()=>{try{await c.Z.delete("".concat(p,"/hires/").concat(x._id),{headers:{Authorization:"Bearer ".concat(f.uid)}}),i.Am.success("Hire removed successfully!"),t(e.filter(e=>e._id!==x._id)),m(!1),h(null)}catch(e){var s,r;i.Am.error("Failed to remove hire: "+(null===(r=e.response)||void 0===r?void 0:null===(s=r.data)||void 0===s?void 0:s.error))}},j=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return s?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsx)(l.Z,{})}):(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,r.jsxs)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Manage Hires"}),(0,r.jsx)("p",{className:"text-gray-600 mt-2",children:"View and manage the professionals you've hired"})]}),0===e.length?(0,r.jsx)("div",{className:"text-center py-12",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow p-8 max-w-md mx-auto",children:[(0,r.jsx)(o.gJy,{className:"text-yellow-500 text-4xl mx-auto mb-4"}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Active Hires"}),(0,r.jsx)("p",{className:"text-gray-600 mb-6",children:"You haven't hired any professionals yet. Start by browsing available skills."}),(0,r.jsxs)("a",{href:"/hire-skill",className:"bg-blue-500 hover:bg-blue-600 text-white px-6 py-2 rounded-lg font-semibold inline-flex items-center",children:[(0,r.jsx)(o.I8D,{className:"mr-2"}),"Browse Skills"]})]})}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"mb-6",children:(0,r.jsxs)("p",{className:"text-gray-600",children:["You have ",e.length," active hire",1!==e.length?"s":""]})}),(0,r.jsx)("div",{className:"grid grid-cols-1 gap-6",children:e.map(e=>(0,r.jsx)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:(0,r.jsx)("div",{className:"flex justify-between items-start",children:(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:e.skillTitle}),(0,r.jsxs)("div",{className:"flex items-center text-gray-600 mb-2",children:[(0,r.jsx)(o.Xws,{className:"mr-2"}),(0,r.jsxs)("span",{children:["Professional: ",e.skillOwnerName]})]}),(0,r.jsxs)("div",{className:"flex items-center text-gray-600 mb-2",children:[(0,r.jsx)(o.I8D,{className:"mr-2"}),(0,r.jsxs)("span",{children:["Status:",(0,r.jsx)("span",{className:"ml-1 px-2 py-1 rounded-full text-xs font-medium ".concat("active"===e.status?"bg-green-100 text-green-800":"completed"===e.status?"bg-blue-100 text-blue-800":"bg-red-100 text-red-800"),children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})]})]}),(0,r.jsxs)("div",{className:"flex items-center text-gray-600",children:[(0,r.jsx)(o.XdU,{className:"mr-2"}),(0,r.jsxs)("span",{children:["Hired on: ",j(e.hiredAt)]})]})]}),(0,r.jsx)("button",{onClick:()=>g(e),className:"bg-red-500 hover:bg-red-600 text-white p-2 rounded-full shadow-lg transition duration-300 ml-4",title:"Remove Hire",children:(0,r.jsx)(o.Xm5,{size:14})})]}),e.skillId&&(0,r.jsxs)("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:[(0,r.jsx)("h4",{className:"font-semibold text-gray-900 mb-2",children:"Skill Details:"}),(0,r.jsx)("p",{className:"text-gray-600 text-sm",children:e.skillId.description}),(0,r.jsxs)("div",{className:"flex items-center mt-2 text-sm text-gray-600",children:[(0,r.jsx)(o.RcD,{className:"mr-1"}),(0,r.jsxs)("span",{children:["Rate: $",e.skillId.hourlyCharge,"/hr"]}),(0,r.jsx)("span",{className:"mx-2",children:"â€¢"}),(0,r.jsxs)("span",{children:["Experience: ",e.skillId.yearsOfExperience," years"]})]})]})]})})},e._id))})]}),u&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-md mx-4",children:[(0,r.jsxs)("div",{className:"flex items-center mb-4",children:[(0,r.jsx)(o.gJy,{className:"text-red-500 text-xl mr-3"}),(0,r.jsx)("h3",{className:"text-lg font-semibold",children:"Remove Hire"})]}),(0,r.jsxs)("p",{className:"text-gray-600 mb-6",children:['Are you sure you want to remove "',null==x?void 0:x.skillTitle,'" from your hires? This action cannot be undone.']}),(0,r.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,r.jsx)("button",{onClick:()=>m(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800 font-medium",children:"Cancel"}),(0,r.jsx)("button",{onClick:v,className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg font-medium",children:"Remove"})]})]})})]})})}},8074:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});var r=s(7437);function a(){return(0,r.jsx)("div",{className:"flex justify-center items-center",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})})}},8026:function(e,t,s){"use strict";s.d(t,{AuthProvider:function(){return u},a:function(){return d}});var r=s(7437),a=s(2265),n=s(3301);let l=(0,s(738).ZF)({apiKey:"AIzaSyD2X6NJ1-zOk3WENlqPsXRQQ5VJ3IUNcMU",authDomain:"ejp-workroots.firebaseapp.com",projectId:"ejp-workroots",storageBucket:"ejp-workroots.firebasestorage.app",messagingSenderId:"151175727156",appId:"1:151175727156:web:425eea80bf9bd1bc9da261"}),i=(0,n.v0)(l);var c=s(3464);let o=(0,a.createContext)();function d(){return(0,a.useContext)(o)}function u(e){let{children:t}=e,[s,l]=(0,a.useState)(null),[d,u]=(0,a.useState)(!0),[m,x]=(0,a.useState)(null),h="https://work-roots-server.vercel.app/api",f=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{await c.Z.post("".concat(h,"/auth/sync"),{uid:e.uid,name:e.displayName||t.name||"User",email:e.email,phone:t.phone||"",profilePicture:e.photoURL||t.profilePicture||""})}catch(e){console.error("Error syncing user to DB:",e)}},p=async(e,t,s)=>{let{user:r}=await (0,n.Xb)(i,e,t);return await (0,n.ck)(r,{displayName:s}),await f(r,{name:s}),r},y=async e=>{i.currentUser&&(await (0,n.ck)(i.currentUser,e),await f(i.currentUser,e))};return(0,a.useEffect)(()=>(0,n.Aj)(i,async e=>{if(l(e),e){await f(e);try{let t=await c.Z.get("".concat(h,"/auth/profile"),{headers:{Authorization:"Bearer ".concat(e.uid)}});x(t.data.data)}catch(e){console.error("Error fetching user profile:",e)}}else x(null);u(!1)}),[]),(0,r.jsx)(o.Provider,{value:{currentUser:s,userProfile:m,signup:p,login:(e,t)=>(0,n.e5)(i,e,t),logout:()=>(0,n.w7)(i),updateUserProfile:y},children:!d&&t})}},178:function(e,t,s){"use strict";s.d(t,{w_:function(){return c}});var r=s(2265),a={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},n=r.createContext&&r.createContext(a),l=function(){return(l=Object.assign||function(e){for(var t,s=1,r=arguments.length;s<r;s++)for(var a in t=arguments[s])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},i=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(s[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)0>t.indexOf(r[a])&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(s[r[a]]=e[r[a]]);return s};function c(e){return function(t){return r.createElement(o,l({attr:l({},e.attr)},t),function e(t){return t&&t.map(function(t,s){return r.createElement(t.tag,l({key:s},t.attr),e(t.child))})}(e.child))}}function o(e){var t=function(t){var s,a=e.attr,n=e.size,c=e.title,o=i(e,["attr","size","title"]),d=n||t.size||"1em";return t.className&&(s=t.className),e.className&&(s=(s?s+" ":"")+e.className),r.createElement("svg",l({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,a,o,{className:s,style:l(l({color:e.color||t.color},t.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),c&&r.createElement("title",null,c),e.children)};return void 0!==n?r.createElement(n.Consumer,null,function(e){return t(e)}):t(a)}}},function(e){e.O(0,[139,420,851,61,971,117,744],function(){return e(e.s=3700)}),_N_E=e.O()}]);