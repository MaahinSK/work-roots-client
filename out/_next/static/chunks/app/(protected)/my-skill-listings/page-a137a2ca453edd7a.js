(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[833],{5495:function(e,t,s){Promise.resolve().then(s.bind(s,9232))},9232:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return m},dynamic:function(){return u}});var r=s(7437),l=s(2265),a=s(8026),i=s(3310),n=s(8074),c=s(7061),o=s(3464),d=s(5674);let u="force-dynamic";function m(){let[e,t]=(0,l.useState)([]),[s,u]=(0,l.useState)(!0),[m,x]=(0,l.useState)(null),[h,f]=(0,l.useState)(!1),[p,g]=(0,l.useState)(null),{currentUser:b}=(0,a.a)(),y="https://work-roots-server.vercel.app/";(0,l.useEffect)(()=>{v()},[]);let v=async()=>{try{let e=await o.Z.get("".concat(y,"/skills/user"),{headers:{Authorization:"Bearer ".concat(b.uid)}});t(e.data.data)}catch(e){c.Am.error("Failed to fetch your skills: "+e.message)}finally{u(!1)}},j=e=>{g(e),f(!0)},N=async()=>{try{await o.Z.delete("".concat(y,"/skills/").concat(p._id),{headers:{Authorization:"Bearer ".concat(b.uid)}}),c.Am.success("Skill deleted successfully!"),t(e.filter(e=>e._id!==p._id)),f(!1),g(null)}catch(e){var s,r;c.Am.error("Failed to delete skill: "+(null===(r=e.response)||void 0===r?void 0:null===(s=r.data)||void 0===s?void 0:s.error))}},w=e=>{c.Am.info("Edit functionality coming soon!")};return s?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsx)(n.Z,{})}):(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,r.jsx)("div",{className:"mb-8",children:(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"My Skill Listings"}),(0,r.jsx)("p",{className:"text-gray-600 mt-2",children:"Manage your posted skills and track their performance"})]}),(0,r.jsxs)("a",{href:"/post-skill",className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg font-semibold flex items-center",children:[(0,r.jsx)(d.wEH,{className:"mr-2"}),"Post New Skill"]})]})}),0===e.length?(0,r.jsx)("div",{className:"text-center py-12",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow p-8 max-w-md mx-auto",children:[(0,r.jsx)(d.gJy,{className:"text-yellow-500 text-4xl mx-auto mb-4"}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Skills Posted Yet"}),(0,r.jsx)("p",{className:"text-gray-600 mb-6",children:"Start showcasing your skills to potential clients by posting your first skill listing."}),(0,r.jsxs)("a",{href:"/post-skill",className:"bg-blue-500 hover:bg-blue-600 text-white px-6 py-2 rounded-lg font-semibold inline-flex items-center",children:[(0,r.jsx)(d.wEH,{className:"mr-2"}),"Post Your First Skill"]})]})}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"mb-6",children:(0,r.jsxs)("p",{className:"text-gray-600",children:["You have ",e.length," active skill listing",1!==e.length?"s":""]})}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(i.Z,{skill:e,showHireButton:!1}),(0,r.jsxs)("div",{className:"absolute top-4 right-4 flex space-x-2",children:[(0,r.jsx)("button",{onClick:()=>w(e),className:"bg-blue-500 hover:bg-blue-600 text-white p-2 rounded-full shadow-lg transition duration-300",title:"Edit Skill",children:(0,r.jsx)(d.fmQ,{size:14})}),(0,r.jsx)("button",{onClick:()=>j(e),className:"bg-red-500 hover:bg-red-600 text-white p-2 rounded-full shadow-lg transition duration-300",title:"Delete Skill",children:(0,r.jsx)(d.Xm5,{size:14})})]})]},e._id))})]}),h&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-md mx-4",children:[(0,r.jsxs)("div",{className:"flex items-center mb-4",children:[(0,r.jsx)(d.gJy,{className:"text-red-500 text-xl mr-3"}),(0,r.jsx)("h3",{className:"text-lg font-semibold",children:"Delete Skill"})]}),(0,r.jsxs)("p",{className:"text-gray-600 mb-6",children:['Are you sure you want to delete "',null==p?void 0:p.title,'"? This action cannot be undone.']}),(0,r.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,r.jsx)("button",{onClick:()=>f(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800 font-medium",children:"Cancel"}),(0,r.jsx)("button",{onClick:N,className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg font-medium",children:"Delete"})]})]})})]})})}},3310:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var r=s(7437),l=s(2265),a=s(5674);function i(e){var t;let{skill:s,onHire:i,onDetails:n,showHireButton:c=!0}=e,[o,d]=(0,l.useState)(!1),u=s.description.length>100?s.description.substring(0,100)+"...":s.description;return(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden card-hover",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("img",{src:s.imageUrl||"/api/placeholder/300/200",alt:s.title,className:"w-full h-48 object-cover"}),(0,r.jsx)("div",{className:"absolute top-2 right-2 bg-blue-500 text-white px-2 py-1 rounded-full text-sm",children:s.category})]}),(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:s.title}),(0,r.jsxs)("div",{className:"flex items-center text-gray-600 mb-2",children:[(0,r.jsx)(a.QJe,{className:"text-yellow-400 mr-1"}),(0,r.jsxs)("span",{className:"text-sm",children:[s.yearsOfExperience," years experience"]})]}),(0,r.jsxs)("div",{className:"flex items-center text-gray-600 mb-3",children:[(0,r.jsx)(a.RcD,{className:"text-green-500 mr-1"}),(0,r.jsxs)("span",{className:"text-lg font-semibold",children:["$",s.hourlyCharge,"/hr"]})]}),(0,r.jsx)("p",{className:"text-gray-600 mb-4",children:o?s.description:u}),(0,r.jsxs)("div",{className:"flex items-center text-gray-500 text-sm mb-4",children:[(0,r.jsx)(a.IiJ,{className:"mr-2"}),(0,r.jsxs)("span",{children:["Available: ",(null===(t=s.availableDays)||void 0===t?void 0:t.join(", "))||"Flexible"]})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[c&&(0,r.jsx)("button",{onClick:i,className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg font-semibold transition duration-300",children:"Hire Now"}),(0,r.jsx)("button",{onClick:()=>{d(!o),n&&n()},className:"text-blue-500 hover:text-blue-600 font-semibold",children:o?"Show Less":"Details"})]})]})]})}},8074:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});var r=s(7437);function l(){return(0,r.jsx)("div",{className:"flex justify-center items-center",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})})}},8026:function(e,t,s){"use strict";s.d(t,{AuthProvider:function(){return u},a:function(){return d}});var r=s(7437),l=s(2265),a=s(3301);let i=(0,s(738).ZF)({apiKey:"AIzaSyD2X6NJ1-zOk3WENlqPsXRQQ5VJ3IUNcMU",authDomain:"ejp-workroots.firebaseapp.com",projectId:"ejp-workroots",storageBucket:"ejp-workroots.firebasestorage.app",messagingSenderId:"151175727156",appId:"1:151175727156:web:425eea80bf9bd1bc9da261"}),n=(0,a.v0)(i);var c=s(3464);let o=(0,l.createContext)();function d(){return(0,l.useContext)(o)}function u(e){let{children:t}=e,[s,i]=(0,l.useState)(null),[d,u]=(0,l.useState)(!0),[m,x]=(0,l.useState)(null),h="https://work-roots-server.vercel.app/",f=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{await c.Z.post("".concat(h,"/auth/sync"),{uid:e.uid,name:e.displayName||t.name||"User",email:e.email,phone:t.phone||"",profilePicture:e.photoURL||t.profilePicture||""})}catch(e){console.error("Error syncing user to DB:",e)}},p=async(e,t,s)=>{let{user:r}=await (0,a.Xb)(n,e,t);return await (0,a.ck)(r,{displayName:s}),await f(r,{name:s}),r},g=async e=>{n.currentUser&&(await (0,a.ck)(n.currentUser,e),await f(n.currentUser,e))};return(0,l.useEffect)(()=>(0,a.Aj)(n,async e=>{if(i(e),e){await f(e);try{let t=await c.Z.get("".concat(h,"/auth/profile"),{headers:{Authorization:"Bearer ".concat(e.uid)}});x(t.data.data)}catch(e){console.error("Error fetching user profile:",e)}}else x(null);u(!1)}),[]),(0,r.jsx)(o.Provider,{value:{currentUser:s,userProfile:m,signup:p,login:(e,t)=>(0,a.e5)(n,e,t),logout:()=>(0,a.w7)(n),updateUserProfile:g},children:!d&&t})}},178:function(e,t,s){"use strict";s.d(t,{w_:function(){return c}});var r=s(2265),l={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},a=r.createContext&&r.createContext(l),i=function(){return(i=Object.assign||function(e){for(var t,s=1,r=arguments.length;s<r;s++)for(var l in t=arguments[s])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e}).apply(this,arguments)},n=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(s[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var l=0,r=Object.getOwnPropertySymbols(e);l<r.length;l++)0>t.indexOf(r[l])&&Object.prototype.propertyIsEnumerable.call(e,r[l])&&(s[r[l]]=e[r[l]]);return s};function c(e){return function(t){return r.createElement(o,i({attr:i({},e.attr)},t),function e(t){return t&&t.map(function(t,s){return r.createElement(t.tag,i({key:s},t.attr),e(t.child))})}(e.child))}}function o(e){var t=function(t){var s,l=e.attr,a=e.size,c=e.title,o=n(e,["attr","size","title"]),d=a||t.size||"1em";return t.className&&(s=t.className),e.className&&(s=(s?s+" ":"")+e.className),r.createElement("svg",i({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,l,o,{className:s,style:i(i({color:e.color||t.color},t.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),c&&r.createElement("title",null,c),e.children)};return void 0!==a?r.createElement(a.Consumer,null,function(e){return t(e)}):t(l)}}},function(e){e.O(0,[139,420,851,61,971,117,744],function(){return e(e.s=5495)}),_N_E=e.O()}]);